<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="view-port" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi" />
    <title>Mobile Project</title>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/app_icon.png" />
    <link rel="apple-touch-icon-precomposed" href="images/app_icon.png" />

    <link rel="stylesheet" href="css/common.css">
</head>
<body>

<div w3-include-header="header.html"></div>

<section id="page1" data-role="page">
    <div class="content" data-role="content">
        <div class="s_main">
            <h2 class="sub_tit helv bold">REQUEST(폼 유효성 검사)</h2>
            <span class="m_tit bold">궁금하세요? 질문해주세요.</span>
            <form id="frm_request" action="" method="post" enctype="application/x-www-form-urlencoded">
                <table width="100%" border="0" cellspacing="0" cellpadding="0" class="req_box">
                    <colgroup>
                        <col width="60px" />
                        <col />
                    </colgroup>
                    <tr>
                        <th>작성자</th>
                        <td>
                            <input name="name" type="text" class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>E-mail</th>
                        <td>
                            <input name="email" type="email" class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>연락처</th>
                        <td>
                            <input name="phone" type="tel" class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>주소</th>
                        <td>
                            <input name="addr" type="search" class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>나이</th>
                        <td>
                            <input name="age" type="number" class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>비밀번호</th>
                        <td>
                            <input name="pwd" type="password" class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>제목</th>
                        <td>
                            <input name="title" type=""  class="req_input">
                        </td>
                    </tr>
                    <tr>
                        <th>내용</th>
                        <td>
                            <textarea name="content" cols="" rows="" class="req_long"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" class="btn_center">
                            <input type="button" class="btn_send" value="SEND" />
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
</section>

<div w3-include-footer="footer.html"></div>

</body>
</html>

<script src="./js/jquery-3.3.1.js"></script>
<script src="./js/common.js"></script>

<script>
    $('.btn_send').on('click', function(event){
        var list = $('.req_input, .req_long');

        for(var i=0; i<list.length; i=i+1){
            if( $(list[i] ).val() == '' ) { //입력 필요.
                list[i].focus(); //커서 깜빡이게

                // label 태그 만들기. 있을 수도 있다.
                if( $(list[i]).next('label').length == 0 ){
                    // label 태그를 찾았는데 없는 경우.
                    $(list[i]).after('<label>입력하세요</label>');
                }
                else {
                }

                // 이벤트 취소
                return false;
            }
        }
        $('#frm_request').submit();
    });

    // input 나 textarea 태그에서 key up 이벤트 발생할때 label 태그 삭제
    $('.req_input, .req_long').on('keyup', function(event){
        //클릭된 자기자신의 바로 밑에 동생을 찾는다.
        $(this).next().remove();
    })
</script>